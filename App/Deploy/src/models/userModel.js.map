{"version":3,"sources":["../../src/models/userModel.js"],"names":["Schema","mongoose","userSchema","email","type","String","lowercase","unique","required","match","index","password","nickname","role","default","userModel","model","findOne","err","user","console","log","save"],"mappings":";;;;;;AAAA;;;;;;AACA,IAAMA,SAASC,mBAASD,MAAxB;;AAEA,IAAME,aAAa,IAAIF,MAAJ,CAAW;AAC5BG,SAAO;AACLC,UAAMC,MADD;AAELC,eAAW,IAFN;AAGLC,YAAQ,IAHH;AAILC,cAAU,CAAC,IAAD,EAAO,gBAAP,CAJL;AAKLC,WAAO,CAAC,cAAD,EAAiB,YAAjB,CALF;AAMLC,WAAO;AANF,GADqB;AAS5BC,YAAUN,MATkB;AAU5BO,YAAUP,MAVkB;AAW5BQ,QAAM,EAAET,MAAMC,MAAR,EAAgBS,SAAS,MAAzB;AAXsB,CAAX,CAAnB;AAaA,IAAMC,YAAYd,mBAASe,KAAT,CAAe,MAAf,EAAuBd,UAAvB,CAAlB;;kBAEea,S;;;AAEfA,UAAUE,OAAV,CAAkB,EAAEd,OAAO,iBAAT,EAAlB,EAAgD,UAACe,GAAD,EAAMC,IAAN,EAAe;AAC7D,MAAID,GAAJ,EAAS;AACPE,YAAQC,GAAR,CAAY,OAAZ,EAAqBH,GAArB;AACD;AACD,MAAI,CAACC,IAAL,EAAW;AACT,QAAIA,OAAO,IAAIJ,SAAJ,CAAc;AACvBZ,aAAO,iBADgB;AAEvBQ,gBAAU,OAFa;AAGvBC,gBAAU,OAHa;AAIvBC,YAAM;AAJiB,KAAd,CAAX;;AAOAM,SAAKG,IAAL,CAAU,UAACJ,GAAD,EAAMC,IAAN,EAAe;AACvB,UAAID,GAAJ,EAAS;AACPE,gBAAQC,GAAR,CAAY,gCAAZ;AACD;AACDD,cAAQC,GAAR,CAAY,qBAAZ,EAAmCF,KAAKhB,KAAxC,EAA+CgB,KAAKR,QAApD;AACD,KALD;AAMD;AACDS,UAAQC,GAAR,CAAY,iBAAZ,EAA+BF,KAAKhB,KAApC,EAA2CgB,KAAKR,QAAhD;AACD,CApBD","file":"userModel.js","sourcesContent":["import mongoose from \"mongoose\";\nconst Schema = mongoose.Schema;\n\nconst userSchema = new Schema({\n  email: {\n    type: String,\n    lowercase: true,\n    unique: true,\n    required: [true, \"can't be blank\"],\n    match: [/\\S+@\\S+\\.\\S+/, \"is invalid\"],\n    index: true\n  },\n  password: String,\n  nickname: String,\n  role: { type: String, default: \"user\" }\n});\nconst userModel = mongoose.model(\"user\", userSchema);\n\nexport default userModel;\n\nuserModel.findOne({ email: \"admin@gmail.com\" }, (err, user) => {\n  if (err) {\n    console.log(\"Error\", err);\n  }\n  if (!user) {\n    var user = new userModel({\n      email: \"admin@gmail.com\",\n      password: \"admin\",\n      nickname: \"admin\",\n      role: \"admin\"\n    });\n\n    user.save((err, user) => {\n      if (err) {\n        console.log(\"Error create new Admin account\");\n      }\n      console.log(\"New Admin account: \", user.email, user.password);\n    });\n  }\n  console.log(\"Admin account: \", user.email, user.password);\n});\n"]}